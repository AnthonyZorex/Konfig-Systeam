@page
@model schliessanlagen_konfigurator.Areas.Identity.Pages.Account.Manage.PagePersonalOrdersModel;

@{
    ViewData["Title"] = "Profilbestellungen";
    ViewData["ActivePage"] = ManageNavPages.PersonalOrderNavClass;

    var orderList = (List<UserOrdersShop>)ViewData["OrderLis"];
    var orderItem = (List<ProductSysteam>)ViewData["OrderItem"];

    var countProduct = (List<int>)ViewData["CounterProduct"];

    float costed = 0;
    int ProudctItemCounter = 0;
    int UserOrderId = 0;
}
<h3>@ViewData["Title"]</h3>

<div class="row">
    <div class="col-md-6">
        <div id="AllOrderUser">
            @if (orderList!=null)
            {
                @for (int z = 0; z < orderList.Count; z++)
                {

                    <div id="AllProductUser">

                        <div id="hederBlockOrder">
                            <h3>Article</h3>
                            <div id="orderCostHeader">
                                <h3>Price</h3>
                            </div>
                        </div>
                        <hr />
                        <div id="producktInfo">
                            <img src="@("/Image/Schliarticle.jpg")" onclick="OpenModalInfo(@z)" height="150" width="150" />
                            <h4>@orderList[z].ProductName</h4>
                            <div id="costedInfo">
                                <div style="display:flex"><h4 id="costedI-@z">@orderList[z].OrderSum.ToString("C")</h4></div>

                            </div>
                        </div>

                        <div id="myModal-@z" class="modal">

                            <form id="myForm" method="post">

                                <div class="modal-content">

                                    <span onclick="closedModal(@z)" class="close">&times;</span>
                                    <div id="blockSchrite">
                                        <div style="display:flex;gap:10px;">
                                            <span id="schrit">1</span>
                                            <h2><strong>Versandadresse</strong></h2>
                                        </div>
                                        <br />
                                        <input type="hidden" name="userKey" value="@orderList[z].UserId" />
                                        <input class="form-control" required name="SendAdresse" placeholder="E-Mail-Adresse" />
                                        <br />
                                        <div style="display:flex;gap:10px;">
                                            <input class="form-control" required name="SendVorname" placeholder="Vorname / first name *" />
                                            <input class="form-control" required name="SendNachname" placeholder="Nachname / surname *" />
                                        </div>
                                        <br />
                                        <div style="display:flex;gap:10px;">
                                            <input class="form-control" name="SendFirma" placeholder="Firma / company" />
                                            <input class="form-control" name="SendVat" placeholder="USt - IdNr. / VAT id" />
                                        </div>

                                        <br />

                                        <input class="form-control" required name="SendStrasse" placeholder="Straße und Hausnummer / street address *" />
                                        <br />
                                        <input class="form-control" name="SemdAdressZusatz" placeholder="Adresszusatz / address suffix" />
                                        <br />

                                        <div style="display:flex;gap:10px;">
                                            <input class="form-control" required name="SendZip" placeholder="Postleitzahl / zip code *" />
                                            <input class="form-control" required name="SendStadt" placeholder="Stadt / city *" />
                                        </div>
                                        <br />
                                        <div style="display:flex;gap:10px;">
                                            <select class="form-select" required onchange="ProcentMwst(event,@z)" name="SendLand" id="countries" placeholder="Land / country *">
                                                <option selected></option>
                                                <option value="DE">Deutschland</option>
                                                <option value="AF">Afghanistan</option>
                                                <option value="EG">Ägypten</option>
                                                <option value="AL">Albanien</option>
                                                <option value="DZ">Algerien</option>
                                                <option value="AS">Amerikanisch-Samoa</option>
                                                <option value="VI">Amerikanische Jungferninseln</option>
                                                <option value="AD">Andorra</option>
                                                <option value="AO">Angola</option>
                                                <option value="AI">Anguilla</option>
                                                <option value="AQ">Antarktis</option>
                                                <option value="AG">Antigua und Barbuda</option>
                                                <option value="GQ">Äquatorialguinea</option>
                                                <option value="AR">Argentinien</option>
                                                <option value="AM">Armenien</option>
                                                <option value="AW">Aruba</option>
                                                <option value="AZ">Aserbaidschan</option>
                                                <option value="ET">Äthiopien</option>
                                                <option value="AU">Australien</option>
                                                <option value="BS">Bahamas</option>
                                                <option value="BH">Bahrain</option>
                                                <option value="BD">Bangladesch</option>
                                                <option value="BB">Barbados</option>
                                                <option value="BY">Belarus</option>
                                                <option value="BE">Belgien</option>
                                                <option value="BZ">Belize</option>
                                                <option value="BJ">Benin</option>
                                                <option value="BM">Bermuda</option>
                                                <option value="BT">Bhutan</option>
                                                <option value="BO">Bolivien</option>
                                                <option value="BQ">Bonaire, Sint Eustatius und Saba</option>
                                                <option value="BA">Bosnien und Herzegowina</option>
                                                <option value="BW">Botswana</option>
                                                <option value="BV">Bouvetinsel</option>
                                                <option value="BR">Brasilien</option>
                                                <option value="VG">Britische Jungferninseln</option>
                                                <option value="IO">Britisches Territorium im Indischen Ozean</option>
                                                <option value="BN">Brunei Darussalam</option>
                                                <option value="BG">Bulgarien</option>
                                                <option value="BF">Burkina Faso</option>
                                                <option value="BI">Burundi</option>
                                                <option value="CL">Chile</option>
                                                <option value="CN">China</option>
                                                <option value="CK">Cookinseln</option>
                                                <option value="CR">Costa Rica</option>
                                                <option value="CI">Côte d’Ivoire</option>
                                                <option value="CW">Curaçao</option>
                                                <option value="DK">Dänemark</option>
                                                <option value="DJ">Dschibuti</option>
                                                <option value="DM">Dominica</option>
                                                <option value="DO">Dominikanische Republik</option>
                                                <option value="EC">Ecuador</option>
                                                <option value="SV">El Salvador</option>
                                                <option value="ER">Eritrea</option>
                                                <option value="EE">Estland</option>
                                                <option value="SZ">Eswatini</option>
                                                <option value="FK">Falklandinseln</option>
                                                <option value="FO">Färöer</option>
                                                <option value="FJ">Fidschi</option>
                                                <option value="FI">Finnland</option>
                                                <option value="FR">Frankreich</option>
                                                <option value="GF">Französisch-Guayana</option>
                                                <option value="PF">Französisch-Polynesien</option>
                                                <option value="TF">Französische Süd- und Antarktisgebiete</option>
                                                <option value="GA">Gabun</option>
                                                <option value="GM">Gambia</option>
                                                <option value="GE">Georgien</option>
                                                <option value="GH">Ghana</option>
                                                <option value="GI">Gibraltar</option>
                                                <option value="GD">Grenada</option>
                                                <option value="GR">Griechenland</option>
                                                <option value="GL">Grönland</option>
                                                <option value="GB">Großbritannien</option>
                                                <option value="GP">Guadeloupe</option>
                                                <option value="GU">Guam</option>
                                                <option value="GT">Guatemala</option>
                                                <option value="GG">Guernsey</option>
                                                <option value="GN">Guinea</option>
                                                <option value="GW">Guinea-Bissau</option>
                                                <option value="GY">Guyana</option>
                                                <option value="HT">Haiti</option>
                                                <option value="HM">Heard- und McDonald-Inseln</option>
                                                <option value="HN">Honduras</option>
                                                <option value="HK">Hongkong</option>
                                                <option value="IN">Indien</option>
                                                <option value="ID">Indonesien</option>
                                                <option value="IQ">Irak</option>
                                                <option value="IR">Iran</option>
                                                <option value="IE">Irland</option>
                                                <option value="IS">Island</option>
                                                <option value="IL">Israel</option>
                                                <option value="IT">Italien</option>
                                                <option value="JM">Jamaika</option>
                                                <option value="JP">Japan</option>
                                                <option value="YE">Jemen</option>
                                                <option value="JE">Jersey</option>
                                                <option value="JO">Jordanien</option>
                                                <option value="KY">Kaimaninseln</option>
                                                <option value="KH">Kambodscha</option>
                                                <option value="CM">Kamerun</option>
                                                <option value="CA">Kanada</option>
                                                <option value="CV">Kap Verde</option>
                                                <option value="KZ">Kasachstan</option>
                                                <option value="QA">Katar</option>
                                                <option value="KE">Kenia</option>
                                                <option value="KG">Kirgisistan</option>
                                                <option value="KI">Kiribati</option>
                                                <option value="CC">Kokosinseln</option>
                                                <option value="CO">Kolumbien</option>
                                                <option value="KM">Komoren</option>
                                                <option value="CD">Kongo-Kinshasa</option>
                                                <option value="CG">Kongo-Brazzaville</option>
                                                <option value="KR">Korea, Republik</option>
                                                <option value="XK">Kosovo</option>
                                                <option value="HR">Kroatien</option>
                                                <option value="CU">Kuba</option>
                                                <option value="KW">Kuwait</option>
                                                <option value="LA">Laos</option>
                                                <option value="LS">Lesotho</option>
                                                <option value="LV">Lettland</option>
                                                <option value="LB">Libanon</option>
                                                <option value="LR">Liberia</option>
                                                <option value="LY">Libyen</option>
                                                <option value="LI">Liechtenstein</option>
                                                <option value="LT">Litauen</option>
                                                <option value="LU">Luxemburg</option>
                                                <option value="MO">Macau</option>
                                                <option value="MG">Madagaskar</option>
                                                <option value="MW">Malawi</option>
                                                <option value="MY">Malaysia</option>
                                                <option value="MV">Malediven</option>
                                                <option value="ML">Mali</option>
                                                <option value="MT">Malta</option>
                                                <option value="MA">Marokko</option>
                                                <option value="MH">Marshallinseln</option>
                                                <option value="MQ">Martinique</option>
                                                <option value="MR">Mauretanien</option>
                                                <option value="MU">Mauritius</option>
                                                <option value="YT">Mayotte</option>
                                                <option value="MK">Mazedonien</option>
                                                <option value="MX">Mexiko</option>
                                                <option value="FM">Mikronesien</option>
                                                <option value="MD">Moldau</option>
                                                <option value="MC">Monaco</option>
                                                <option value="MN">Mongolei</option>
                                                <option value="ME">Montenegro</option>
                                                <option value="MS">Montserrat</option>
                                                <option value="MZ">Mosambik</option>
                                                <option value="MM">Myanmar</option>
                                                <option value="NA">Namibia</option>
                                                <option value="NR">Nauru</option>
                                                <option value="NP">Nepal</option>
                                                <option value="NC">Neukaledonien</option>
                                                <option value="NZ">Neuseeland</option>
                                                <option value="NI">Nicaragua</option>
                                                <option value="NL">Niederlande</option>
                                                <option value="NE">Niger</option>
                                                <option value="NG">Nigeria</option>
                                                <option value="NU">Niue</option>
                                                <option value="MP">Nördliche Marianen</option>
                                                <option value="KP">Nordkorea</option>
                                                <option value="NO">Norwegen</option>
                                                <option value="OM">Oman</option>
                                                <option value="AT">Österreich</option>
                                                <option value="TL">Osttimor</option>
                                                <option value="PK">Pakistan</option>
                                                <option value="PW">Palau</option>
                                                <option value="PS">Palästinensische Gebiete</option>
                                                <option value="PA">Panama</option>
                                                <option value="PG">Papua-Neuguinea</option>
                                                <option value="PY">Paraguay</option>
                                                <option value="PE">Peru</option>
                                                <option value="PH">Philippinen</option>
                                                <option value="PN">Pitcairninseln</option>
                                                <option value="PL">Polen</option>
                                                <option value="PT">Portugal</option>
                                                <option value="PR">Puerto Rico</option>
                                                <option value="RE">Réunion</option>
                                                <option value="RW">Ruanda</option>
                                                <option value="RO">Rumänien</option>
                                                <option value="RU">Russland</option>
                                                <option value="SB">Salomonen</option>
                                                <option value="ZM">Sambia</option>
                                                <option value="WS">Samoa</option>
                                                <option value="SM">San Marino</option>
                                                <option value="ST">São Tomé und Príncipe</option>
                                                <option value="SA">Saudi-Arabien</option>
                                                <option value="SE">Schweden</option>
                                                <option value="CH">Schweiz</option>
                                                <option value="SN">Senegal</option>
                                                <option value="RS">Serbien</option>
                                                <option value="SC">Seychellen</option>
                                                <option value="SL">Sierra Leone</option>
                                                <option value="ZW">Simbabwe</option>
                                                <option value="SG">Singapur</option>
                                                <option value="SX">Sint Maarten</option>
                                                <option value="SK">Slowakei</option>
                                                <option value="SI">Slowenien</option>
                                                <option value="SO">Somalia</option>
                                                <option value="HK">Sonderverwaltungsregion Hongkong</option>
                                                <option value="MO">Sonderverwaltungsregion Macau</option>
                                                <option value="ES">Spanien</option>
                                                <option value="LK">Sri Lanka</option>
                                                <option value="SH">St. Helena</option>
                                                <option value="KN">St. Kitts und Nevis</option>
                                                <option value="LC">St. Lucia</option>
                                                <option value="PM">St. Pierre und Miquelon</option>
                                                <option value="VC">St. Vincent und die Grenadinen</option>
                                                <option value="ZA">Südafrika</option>
                                                <option value="SD">Sudan</option>
                                                <option value="GS">Südgeorgien und die Südlichen Sandwichinseln</option>
                                                <option value="KR">Südkorea</option>
                                                <option value="SS">Südsudan</option>
                                                <option value="SR">Suriname</option>
                                                <option value="SJ">Svalbard und Jan Mayen</option>
                                                <option value="SY">Syrien</option>
                                                <option value="TJ">Tadschikistan</option>
                                                <option value="TW">Taiwan</option>
                                                <option value="TZ">Tansania</option>
                                                <option value="TH">Thailand</option>
                                                <option value="TG">Togo</option>
                                                <option value="TK">Tokelau</option>
                                                <option value="TO">Tonga</option>
                                                <option value="TT">Trinidad und Tobago</option>
                                                <option value="TD">Tschad</option>
                                                <option value="CZ">Tschechien</option>
                                                <option value="TN">Tunesien</option>
                                                <option value="TR">Türkei</option>
                                                <option value="TM">Turkmenistan</option>
                                                <option value="TC">Turks- und Caicosinseln</option>
                                                <option value="TV">Tuvalu</option>
                                                <option value="UG">Uganda</option>
                                                <option value="UA">Ukraine</option>
                                                <option value="HU">Ungarn</option>
                                                <option value="UY">Uruguay</option>
                                                <option value="UZ">Usbekistan</option>
                                                <option value="VU">Vanuatu</option>
                                                <option value="VA">Vatikanstadt</option>
                                                <option value="VE">Venezuela</option>
                                                <option value="AE">Vereinigte Arabische Emirate</option>
                                                <option value="US">Vereinigte Staaten</option>
                                                <option value="VN">Vietnam</option>
                                                <option value="WF">Wallis und Futuna</option>
                                                <option value="EH">Westsahara</option>
                                                <option value="CF">Zentralafrikanische Republik</option>
                                                <option value="CY">Zypern</option>
                                            </select>

                                            <input class="form-control" required name="SendTelefon" placeholder="Telefonnummer / phone number *" />
                                        </div>
                                    </div>
                                    <br />
                                    <div id="blockSchrite">
                                        <div style="display:flex;gap:10px;">
                                            <span id="schrit">2</span>
                                            <h2><strong>Rechnungsadresse</strong></h2>
                                        </div>
                                        <div style="display:flex;gap:30px">
                                            <input type="checkbox" name="Rehnung" checked onchange="changeAdress(event.target.checked)" />
                                            <h6>Gleiche Adresse für Bestellung und Versand</h6>
                                        </div>
                                        <br />
                                        <div id="rechnungSend">
                                        </div>
                                    </div>

                                    <div id="blockSchrite">
                                        <div style="display:flex;gap:10px;">
                                            <span id="schrit">3</span>
                                            <h2><strong>Versandarten</strong></h2>
                                        </div>
                                        <br />
                                        <div>

                                            @{
                                                float gram = countProduct[z] * float.Parse("0,400");
                                            }

                                            <input type="hidden" id="gramWert-@z" value="@gram" />

                                            <input type="radio" id="dhl-@z" onchange="changeSend(@z)" checked name="DhlSend" value="DHL">
                                            <label for="html"> <input type="text" readonly style="border: none;outline:none" value="0" id="CostGram-@z" /> </label><br>
                                        </div>

                                        <div style="display: flex;gap: 30px;align-items: center;">
                                            <input type="radio" readonly style="border: none;" onchange="changeSend(@z)" id="Plase-@z" name="DhlSend" value="0,00 €">
                                            <label for="css" style="margin-left: -25px;">0,00 €</label><br>
                                            <h6>
                                                Brunnenstrasse 8
                                                10119 Berlin
                                            </h6>
                                        </div>
                                    </div>

                                    <div id="blockSchrite">
                                        <div style="display:flex;gap:10px;">
                                            <span id="schrit">4</span>
                                            <h2><strong>Zahlungsart</strong></h2>
                                        </div>
                                        <br />
                                        <div style="display: flex;gap: 50px;" id="bezalenMethod-@z">
                                            <label>
                                                <input type="radio" onchange="BezaleMethod(@z)" checked name="Pay" value="PayPall">
                                                <img src="@("/Image/paypal.png")" height="30" width="30" />
                                                <h5>PayPall</h5>
                                            </label><br>
                                            <label>
                                                <input type="radio" onchange="BezaleMethod(@z)" name="Pay" value="Google Pay">
                                                <img src="@("/Image/google-pay.png")" height="40" width="40" />
                                                <h5>Google Pay</h5>
                                            </label><br>
                                            <label>
                                                <input type="radio" onchange="BezaleMethod(@z)" name="Pay" value="Apple Pay">
                                                <img src="@("/Image/apple-pay.png")" height="40" width="40" />
                                                <h5>Apple Pay</h5>
                                            </label>
                                            <label>
                                                <input type="radio" onchange="BezaleMethod(@z)" name="Pay" value="auf Rechnung">
                                                <img src="@("/Image/cash-on-delivery.png")" height="40" width="40" />
                                                <h5>auf Rechnung</h5>
                                            </label>
                                        </div>
                                    </div>

                                    <div id="blockSchrite">

                                        <div style="display:flex;gap:150px;">
                                            <img src="@("/Image/Schliarticle.jpg")" height="150" width="150" />
                                            <h4>@orderList[z].ProductName</h4>
                                        </div>

                                        <br />
                                        <details>
                                            <hr />
                                            <h4>schlüessel</h4>
                                            <h4>Anzahl: @orderList[z].KeyCount</h4>
                                            <h4>Preis: @orderList[z].KeyCost,00 €</h4>
                                            <summary>Details</summary>
                                            @for (int s = 0; s < countProduct[z]; s++)
                                            {
                                                <hr />
                                                <h4>Name: @orderItem[ProudctItemCounter].Name</h4>
                                                <h4>Aussen Länge: @orderItem[ProudctItemCounter].Aussen</h4>
                                                <h4>Innen Länge: @orderItem[ProudctItemCounter].Intern</h4>
                                                <h4>Option - @orderItem[ProudctItemCounter].Option</h4>
                                                <h4>Anzahl: @orderItem[ProudctItemCounter].Count</h4>
                                                <h4>Preis: @orderItem[ProudctItemCounter].Price,00 €</h4>
                                                UserOrderId = @orderList[z].Id;
                                                ProudctItemCounter++;
                                            }
                                        </details>
                                        <hr style="max-width:350px" />
                                        <br />
                                        <div style="display:flex;gap:50px;"><input id="procent-@z" style="outline:none;border:none;max-width:120px" type="text" readonly name="procent" value="Steuer:"/><input redonly name="Steuer" style="border: none;outline:none" type="text" value="0" id="aldProcent-@z" /></div>
                                        <hr style="max-width:350px" />
                                        <div style="display:flex;gap:50px;"><h4>Versand:</h4><input name="Versand" type="text" redonly style="border: none;outline:none" value="0" id="CostGram-@z" /></div>
                                        <hr style="max-width:350px" />
                                        <div style="display:flex;gap:50px;"><h4>Bestellsumme:</h4><input name="OrderSum" redonly style="border:none;outline:none" value="@orderList[z].OrderSum.ToString("C")" id="costedI-@z" /></div>
                                        <br />
                                        <input type="hidden" id="Aufrechnung-@z" name="aufRechnung" value="false"/>
                                        <input type="submit" class="btn btn-success" id="SendRechnung-@z" style="display:none; padding:10px 20px 10px 20px" value="Bezahlen an der Kasse" />
                                        <br />
                                        <div id="paypal-button-container-@z">
                                        </div>

                                        <input type="hidden" value="@orderList[z].Id" id="invoiceNumber-@z" />
                                        <input type="hidden" value="@orderList[z].UserOrderKey" name="userName" />
                                    </div>
                                    <input type="hidden" id="@z" value="true" />

                                </div>

                            </form>
                        </div>

                        <br />
                        <button id="removeOrder" class="btn btn-success" onclick="OpenModalInfo(@z,@orderList[z].Id)">Bezahlen</button>
                        <button  class="btn btn-warning text-light">
                            <a href="@Url.Action("System_Auswählen","Konfigurator",new{userName = @orderList[z].UserOrderKey , isNewKonfig = true, Biarbeiten = true} )">Überarbeiten Sie den Plan</a>
                        </button>

                        <button id="removeOrder" class="btn btn-danger" onclick="(remove(@UserOrderId))">RemovaOrder</button>
                        <hr />
                    </div>

                    costed = costed + orderList[z].OrderSum;
                }
                <br />
                <hr />
                <h2 style="color:red">Preis: @costed.ToString("C")</h2>
            }
            else
            {
                <br />
                <hr />
                <h2 style="color:red">Preis: 0,00 €</h2>
                        }
        </div>
    </div>
</div>

<script src="https://www.paypal.com/sdk/js?client-id=AcBDGr9EZyKwRHBxrvvXq2u-vFWhg-e2l09CS97O5fbcwx0JYkjJRfsNUS_lJ6QjdTOwGe830IkBill9&currency=EUR"></script>
<script>

    let removeButton = document.getElementById("removeOrder");
    let AllOrderID = document.querySelector("#OrderId");

    var span = document.getElementsByClassName("close")[0];
    let idItem = 0;
    let s = 0;

    let currentPrice = '0.00';

    function BezaleMethod(id) 
    {

        const div = document.getElementById("bezalenMethod-" + id);
        const selectedRadio = div.querySelectorAll('input[name="Pay"]:checked');
        
        const submitRechnung = document.getElementById("SendRechnung-" + id);
        
        const Inputrechnung = document.getElementById("Aufrechnung-" + id);

        if (selectedRadio) 
        {
            if (selectedRadio[0].value === "PayPall") 
            {
                submitRechnung.style.display = "none";
                Inputrechnung.value = false;
            }
            if (selectedRadio[0].value === "Google Pay") 
            {
                submitRechnung.style.display = "none";
                Inputrechnung.value = false;
            }
            if (selectedRadio[0].value === "Apple Pay")
            {
                submitRechnung.style.display = "none";
                Inputrechnung.value = false;
            }
            if (selectedRadio[0].value === "auf Rechnung") 
            {
                submitRechnung.style.display = "block";
                Inputrechnung.value = true;
            }
        }
    }
   
    function changeSend(BlockItem) 
    {
        let sendDhl = document.getElementById("dhl-" + BlockItem);

        let sendCost = document.getElementById("CostGram-" + BlockItem);
        
        let cost = document.querySelectorAll("#costedI-" + BlockItem);

        let Plase = document.getElementById("Plase-" + BlockItem);

        let versend = document.querySelectorAll("#CostGram-" + BlockItem);

        let allItemCost = [];

        cost.forEach((item) => {
            allItemCost.push(item.value.replace("€", "").replace(",", ".").trim());
        });

        if (sendDhl.checked == true) 
        {
            for (let i = 0; i < allItemCost.length; i++) 
            {
                allItemCost[i] = parseFloat(allItemCost[i]) + parseFloat(sendCost.value.replace("€", "").replace(",",".").trim());
                cost[i].value = allItemCost[i].toLocaleString('de-DE', {style: 'currency',currency: 'EUR'});
                changePrice(allItemCost[i]);

            }

            versend.forEach((items) => {
                items.value = sendCost.value;
            })
        }
        else 
        {
            for (let i = 0; i < allItemCost.length; i++) 
            {
                allItemCost[i] = parseFloat(allItemCost[i]) - parseFloat(sendCost.value.replace("€", "").trim());
                cost[i].value = allItemCost[i].toLocaleString('de-DE', { style: 'currency', currency: 'EUR' });
                changePrice(allItemCost[i]); 
            }
            versend[1].value = Plase.value;
            
        }

        
    }

    function ProcentMwst(value,BlockItem) 
    {
        let cost = document.querySelectorAll("#costedI-" + BlockItem);
        let modalItem = document.getElementById("myModal-" + BlockItem);
        let proc = document.getElementById("aldProcent-" + BlockItem);

        let procent = document.getElementById("procent-" + BlockItem);

        let mvstr = cost[0].innerHTML.replace("€","");
        let Gram = document.getElementById("gramWert-" + BlockItem);

        let sendDhl = document.getElementById("dhl-" + BlockItem);
        
        let Plase = document.getElementById("Plase-" + BlockItem);

        let pr = proc.value.replace(".", ",");

        let Sum = parseFloat(mvstr.replace("&nbsp;", "").trim()) - parseFloat(pr.replace("€", ""));

        let costProcent = 0;

        let CostGram = document.querySelectorAll("#CostGram-" + BlockItem);
          
        Sum = Sum - parseFloat(CostGram[0].value.replace("€", "").replace(".", ",").trim());

        switch (value.target.value) 
        {
            case "AT":
            {
                costProcent = (Sum.toFixed(2) * 0.20);

                    procent.value = "20% MwSt";

                if(sendDhl.checked == true)
                {
                        if (parseFloat(Gram.value) <= 2) 
                        {
                            CostGram[0].value = parseFloat("15,00");
                        }
                        else if (parseFloat(Gram.value) > 2 && parseFloat(Gram.value) <= 5) 
                        {
                            CostGram[0].value = parseFloat("17,00");
                        }
                        else if (parseFloat(Gram.value) > 5 && parseFloat(Gram.value) <= 10) 
                        {
                            CostGram[0].value = parseFloat("22,00");
                        }
                        else if (parseFloat(Gram.value) > 10 && parseFloat(Gram.value) <= 20) 
                        {
                            CostGram[0].value = parseFloat("35,00");
                        }
                        else if (parseFloat(Gram.value) > 20 && parseFloat(Gram.value) <= 31, 5) 
                        {
                            CostGram[0].value = parseFloat("49,00");
                        }
                }
                else{
                        CostGram[0].value = parseFloat("0,00");
                }
                    break;
            }
            case "BE":
            {
                costProcent = (Sum.toFixed(2) * 0.21);
                    procent.value = "21% MwSt";

                    if (sendDhl.checked == true) 
                    {
                        if (parseFloat(Gram.value) <= 2) {
                            CostGram[0].value = parseFloat("15,00");
                        }
                        else if (parseFloat(Gram.value) > 2 && parseFloat(Gram.value) <= 5) {
                            CostGram[0].value = parseFloat("17,00");
                        }
                        else if (parseFloat(Gram.value) > 5 && parseFloat(Gram.value) <= 10) {
                            CostGram[0].value = parseFloat("22,00");
                        }
                        else if (parseFloat(Gram.value) > 10 && parseFloat(Gram.value) <= 20) {
                            CostGram[0].value = parseFloat("35,00");
                        }
                        else if (parseFloat(Gram.value) > 20 && parseFloat(Gram.value) <= 31, 5) {
                            CostGram[0].value = parseFloat("49,00");
                        }
                    }
                    else {
                        CostGram[0].value = parseFloat("0,00");
                    }

                break;
            }
            case "BG":
            {
                    costProcent = (Sum.toFixed(2) * 0.20);
                    procent.value = "20% MwSt";

                    if (sendDhl.checked == true) {
                        if (parseFloat(Gram.value) <= 2) {
                            CostGram[0].value = parseFloat("15,00");
                        }
                        else if (parseFloat(Gram.value) > 2 && parseFloat(Gram.value) <= 5) {
                            CostGram[0].value = parseFloat("17,00");
                        }
                        else if (parseFloat(Gram.value) > 5 && parseFloat(Gram.value) <= 10) {
                            CostGram[0].value = parseFloat("22,00");
                        }
                        else if (parseFloat(Gram.value) > 10 && parseFloat(Gram.value) <= 20) {
                            CostGram[0].value = parseFloat("35,00");
                        }
                        else if (parseFloat(Gram.value) > 20 && parseFloat(Gram.value) <= 31, 5) {
                            CostGram[0].value = parseFloat("49,00");
                        }
                    }
                    else {
                        CostGram[0].value = parseFloat("0,00");
                    }
                break;
            }
            case "CY":
            {
                costProcent = (Sum.toFixed(2) * 0.19);
                    procent.value = "19% MwSt";

                    if (sendDhl.checked == true) {
                        if (parseFloat(Gram.value) <= 2) {
                            CostGram[0].value = parseFloat("15,00");
                        }
                        else if (parseFloat(Gram.value) > 2 && parseFloat(Gram.value) <= 5) {
                            CostGram[0].value = parseFloat("17,00");
                        }
                        else if (parseFloat(Gram.value) > 5 && parseFloat(Gram.value) <= 10) {
                            CostGram[0].value = parseFloat("22,00");
                        }
                        else if (parseFloat(Gram.value) > 10 && parseFloat(Gram.value) <= 20) {
                            CostGram[0].value = parseFloat("35,00");
                        }
                        else if (parseFloat(Gram.value) > 20 && parseFloat(Gram.value) <= 31, 5) {
                            CostGram[0].value = parseFloat("49,00");
                        }
                    }
                    else {
                        CostGram[0].value = parseFloat("0,00");
                    }
                break;
            }
            case "CZ":
            {
                costProcent = (Sum.toFixed(2) * 0.21);
                    procent.value = "21% MwSt";
                    if (sendDhl.checked == true) {
                        if (parseFloat(Gram.value) <= 2) {
                            CostGram[0].value = parseFloat("15,00");
                        }
                        else if (parseFloat(Gram.value) > 2 && parseFloat(Gram.value) <= 5) {
                            CostGram[0].value = parseFloat("17,00");
                        }
                        else if (parseFloat(Gram.value) > 5 && parseFloat(Gram.value) <= 10) {
                            CostGram[0].value = parseFloat("22,00");
                        }
                        else if (parseFloat(Gram.value) > 10 && parseFloat(Gram.value) <= 20) {
                            CostGram[0].value = parseFloat("35,00");
                        }
                        else if (parseFloat(Gram.value) > 20 && parseFloat(Gram.value) <= 31, 5) {
                            CostGram[0].value = parseFloat("49,00");
                        }
                    }
                    else {
                        CostGram[0].value = parseFloat("0,00");
                    }
                break;
            }
            case "DE":
            {
                costProcent = (Sum.toFixed(2) * 0.19);
                    procent.value = "19% MwSt";
                    if (sendDhl.checked == true) 
                    {
                        if (parseFloat(Gram.value) <= 2) 
                        {
                            CostGram[0].value = parseFloat("6");
                        }
                        else if (parseFloat(Gram.value) > 2 && parseFloat(Gram.value) <= 5) {
                            CostGram[0].value = parseFloat("7");
                        }
                        else if (parseFloat(Gram.value) > 5 && parseFloat(Gram.value) <= 10) {
                            CostGram[0].value = parseFloat("12");
                        }
                        else if (parseFloat(Gram.value) > 10 && parseFloat(Gram.value) <= 20) {
                            CostGram[0].value = parseFloat("15");
                        }
                        else if (parseFloat(Gram.value) > 21 && parseFloat(Gram.value) <= 31, 5) {
                            CostGram[0].value = parseFloat("20");
                        }
                    }
                    else {
                        CostGram[0].value = parseFloat("0,00");
                    }
                break;
            }
            case "DK":
            {
                costProcent = (Sum.toFixed(2) * 0.25);
                    procent.value = "25% MwSt";
                    if (sendDhl.checked == true) {
                        if (parseFloat(Gram.value) <= 2) {
                            CostGram[0].value = parseFloat("15,00");
                        }
                        else if (parseFloat(Gram.value) > 2 && parseFloat(Gram.value) <= 5) {
                            CostGram[0].value = parseFloat("17,00");
                        }
                        else if (parseFloat(Gram.value) > 5 && parseFloat(Gram.value) <= 10) {
                            CostGram[0].value = parseFloat("22,00");
                        }
                        else if (parseFloat(Gram.value) > 10 && parseFloat(Gram.value) <= 20) {
                            CostGram[0].value = parseFloat("35,00");
                        }
                        else if (parseFloat(Gram.value) > 20 && parseFloat(Gram.value) <= 31, 5) {
                            CostGram[0].value = parseFloat("49,00");
                        }
                    }
                    else {
                        CostGram[0].value = parseFloat("0,00");
                    }

                break;
            }
            case "EE":
            {
          
                costProcent = (Sum.toFixed(2) * 0.20);
                    procent.value = "20% MwSt";
                    if (sendDhl.checked == true) 
                    {
                        if (parseFloat(Gram.value) <= 2) {
                            CostGram[0].value = parseFloat("15,00");
                        }
                        else if (parseFloat(Gram.value) > 2 && parseFloat(Gram.value) <= 5) {
                            CostGram[0].value = parseFloat("17,00");
                        }
                        else if (parseFloat(Gram.value) > 5 && parseFloat(Gram.value) <= 10) {
                            CostGram[0].value = parseFloat("22,00");
                        }
                        else if (parseFloat(Gram.value) > 10 && parseFloat(Gram.value) <= 20) {
                            CostGram[0].value = parseFloat("35,00");
                        }
                        else if (parseFloat(Gram.value) > 20 && parseFloat(Gram.value) <= 31, 5) {
                            CostGram[0].value = parseFloat("49,00");
                        }
                    }
                    else {
                        CostGram[0].value = parseFloat("0,00");
                    }

                break;
            }
            case "ES":
            {
                costProcent = (Sum.toFixed(2) * 0.21);
                    procent.value = "21% MwSt";

                    if (sendDhl.checked == true) {
                        if (parseFloat(Gram.value) <= 2) {
                            CostGram[0].value = parseFloat("15,00");
                        }
                        else if (parseFloat(Gram.value) > 2 && parseFloat(Gram.value) <= 5) {
                            CostGram[0].value = parseFloat("17,00");
                        }
                        else if (parseFloat(Gram.value) > 5 && parseFloat(Gram.value) <= 10) {
                            CostGram[0].value = parseFloat("22,00");
                        }
                        else if (parseFloat(Gram.value) > 10 && parseFloat(Gram.value) <= 20) {
                            CostGram[0].value = parseFloat("35,00");
                        }
                        else if (parseFloat(Gram.value) > 20 && parseFloat(Gram.value) <= 31, 5) {
                            CostGram[0].value = parseFloat("49,00");
                        }
                    }
                    else {
                        CostGram[0].value = parseFloat("0,00");
                    }

                break;
            }
            case "FI":
            {
                costProcent = (Sum.toFixed(2) * 0.24);
                    procent.value = "24% MwSt";

                    if (sendDhl.checked == true) {
                        if (parseFloat(Gram.value) <= 2) {
                            CostGram[0].value = parseFloat("15,00");
                        }
                        else if (parseFloat(Gram.value) > 2 && parseFloat(Gram.value) <= 5) {
                            CostGram[0].value = parseFloat("17,00");
                        }
                        else if (parseFloat(Gram.value) > 5 && parseFloat(Gram.value) <= 10) {
                            CostGram[0].value = parseFloat("22,00");
                        }
                        else if (parseFloat(Gram.value) > 10 && parseFloat(Gram.value) <= 20) {
                            CostGram[0].value = parseFloat("35,00");
                        }
                        else if (parseFloat(Gram.value) > 20 && parseFloat(Gram.value) <= 31, 5) {
                            CostGram[0].value = parseFloat("49,00");
                        }
                    }
                    else {
                        CostGram[0].value = parseFloat("0,00");
                    }

                break;
            }
            case "FR":
            {
                costProcent = (Sum.toFixed(2) * 0.20);
                    procent.value = "20% MwSt";

                    if (sendDhl.checked == true) {
                        if (parseFloat(Gram.value) <= 2) {
                            CostGram[0].value = parseFloat("15,00");
                        }
                        else if (parseFloat(Gram.value) > 2 && parseFloat(Gram.value) <= 5) {
                            CostGram[0].value = parseFloat("17,00");
                        }
                        else if (parseFloat(Gram.value) > 5 && parseFloat(Gram.value) <= 10) {
                            CostGram[0].value = parseFloat("22,00");
                        }
                        else if (parseFloat(Gram.value) > 10 && parseFloat(Gram.value) <= 20) {
                            CostGram[0].value = parseFloat("35,00");
                        }
                        else if (parseFloat(Gram.value) > 20 && parseFloat(Gram.value) <= 31, 5) {
                            CostGram[0].value = parseFloat("49,00");
                        }
                    }
                    else {
                        CostGram[0].value = parseFloat("0,00");
                    }

                break;
            }
            case "GR":
            {
                costProcent = (Sum.toFixed(2) * 0.24);
                    procent.value = "24% MwSt";

                    if (sendDhl.checked == true) {
                        if (parseFloat(Gram.value) <= 2) {
                            CostGram[0].value = parseFloat("15,00");
                        }
                        else if (parseFloat(Gram.value) > 2 && parseFloat(Gram.value) <= 5) {
                            CostGram[0].value = parseFloat("17,00");
                        }
                        else if (parseFloat(Gram.value) > 5 && parseFloat(Gram.value) <= 10) {
                            CostGram[0].value = parseFloat("22,00");
                        }
                        else if (parseFloat(Gram.value) > 10 && parseFloat(Gram.value) <= 20) {
                            CostGram[0].value = parseFloat("35,00");
                        }
                        else if (parseFloat(Gram.value) > 20 && parseFloat(Gram.value) <= 31, 5) {
                            CostGram[0].value = parseFloat("49,00");
                        }
                    }
                    else {
                        CostGram[0].value = parseFloat("0,00");
                    }

                break;
            }
            case "HR":
            {
                costProcent = (Sum.toFixed(2) * 0.25);
                    procent.value = "25% MwSt";

                    if (sendDhl.checked == true) {
                        if (parseFloat(Gram.value) <= 2) {
                            CostGram[0].value = parseFloat("15,00");
                        }
                        else if (parseFloat(Gram.value) > 2 && parseFloat(Gram.value) <= 5) {
                            CostGram[0].value = parseFloat("17,00");
                        }
                        else if (parseFloat(Gram.value) > 5 && parseFloat(Gram.value) <= 10) {
                            CostGram[0].value = parseFloat("22,00");
                        }
                        else if (parseFloat(Gram.value) > 10 && parseFloat(Gram.value) <= 20) {
                            CostGram[0].value = parseFloat("35,00");
                        }
                        else if (parseFloat(Gram.value) > 20 && parseFloat(Gram.value) <= 31, 5) {
                            CostGram[0].value = parseFloat("49,00");
                        }
                    }
                    else {
                        CostGram[0].value = parseFloat("0,00");
                    }

                break;
            }
            case "HU":
            {
                costProcent = (Sum.toFixed(2) * 0.27);
                    procent.value = "27% MwSt";

                    if (sendDhl.checked == true) {
                        if (parseFloat(Gram.value) <= 2) {
                            CostGram[0].value = parseFloat("15,00");
                        }
                        else if (parseFloat(Gram.value) > 2 && parseFloat(Gram.value) <= 5) {
                            CostGram[0].value = parseFloat("17,00");
                        }
                        else if (parseFloat(Gram.value) > 5 && parseFloat(Gram.value) <= 10) {
                            CostGram[0].value = parseFloat("22,00");
                        }
                        else if (parseFloat(Gram.value) > 10 && parseFloat(Gram.value) <= 20) {
                            CostGram[0].value = parseFloat("35,00");
                        }
                        else if (parseFloat(Gram.value) > 20 && parseFloat(Gram.value) <= 31, 5) {
                            CostGram[0].value = parseFloat("49,00");
                        }
                    }
                    else {
                        CostGram[0].value = parseFloat("0,00");
                    }

                break;
            }
            case "IE":
            {
                costProcent = (Sum.toFixed(2) * 0.23);
                    procent.value = "23% MwSt";


                    if (sendDhl.checked == true) {
                        if (parseFloat(Gram.value) <= 2) {
                            CostGram[0].value = parseFloat("15,00");
                        }
                        else if (parseFloat(Gram.value) > 2 && parseFloat(Gram.value) <= 5) {
                            CostGram[0].value = parseFloat("17,00");
                        }
                        else if (parseFloat(Gram.value) > 5 && parseFloat(Gram.value) <= 10) {
                            CostGram[0].value = parseFloat("22,00");
                        }
                        else if (parseFloat(Gram.value) > 10 && parseFloat(Gram.value) <= 20) {
                            CostGram[0].value = parseFloat("35,00");
                        }
                        else if (parseFloat(Gram.value) > 20 && parseFloat(Gram.value) <= 31, 5) {
                            CostGram[0].value = parseFloat("49,00");
                        }
                    }
                    else {
                        CostGram[0].value = parseFloat("0,00");
                    }

                break;
            }
            case "IT":
            {
                costProcent = (Sum.toFixed(2) * 0.22);
                    procent.value = "22% MwSt";

                    if (sendDhl.checked == true) {
                        if (parseFloat(Gram.value) <= 2) {
                            CostGram[0].value = parseFloat("15,00");
                        }
                        else if (parseFloat(Gram.value) > 2 && parseFloat(Gram.value) <= 5) {
                            CostGram[0].value = parseFloat("17,00");
                        }
                        else if (parseFloat(Gram.value) > 5 && parseFloat(Gram.value) <= 10) {
                            CostGram[0].value = parseFloat("22,00");
                        }
                        else if (parseFloat(Gram.value) > 10 && parseFloat(Gram.value) <= 20) {
                            CostGram[0].value = parseFloat("35,00");
                        }
                        else if (parseFloat(Gram.value) > 20 && parseFloat(Gram.value) <= 31, 5) {
                            CostGram[0].value = parseFloat("49,00");
                        }
                    }
                    else {
                        CostGram[0].value = parseFloat("0,00");
                    }

                break;
            }
            case "LT":
            {
                costProcent = (Sum.toFixed(2) * 0.21);
                    procent.value = "21% MwSt";

                    if (sendDhl.checked == true) {
                        if (parseFloat(Gram.value) <= 2) {
                            CostGram[0].value = parseFloat("15,00");
                        }
                        else if (parseFloat(Gram.value) > 2 && parseFloat(Gram.value) <= 5) {
                            CostGram[0].value = parseFloat("17,00");
                        }
                        else if (parseFloat(Gram.value) > 5 && parseFloat(Gram.value) <= 10) {
                            CostGram[0].value = parseFloat("22,00");
                        }
                        else if (parseFloat(Gram.value) > 10 && parseFloat(Gram.value) <= 20) {
                            CostGram[0].value = parseFloat("35,00");
                        }
                        else if (parseFloat(Gram.value) > 20 && parseFloat(Gram.value) <= 31, 5) {
                            CostGram[0].value = parseFloat("49,00");
                        }
                    }
                    else {
                        CostGram[0].value = parseFloat("0,00");
                    }

                break;
            }
            case "LU":
            {
                costProcent = (Sum.toFixed(2) * 0.17);
                    procent.value = "17% MwSt";

                    if (sendDhl.checked == true) {
                        if (parseFloat(Gram.value) <= 2) {
                            CostGram[0].value = parseFloat("15,00");
                        }
                        else if (parseFloat(Gram.value) > 2 && parseFloat(Gram.value) <= 5) {
                            CostGram[0].value = parseFloat("17,00");
                        }
                        else if (parseFloat(Gram.value) > 5 && parseFloat(Gram.value) <= 10) {
                            CostGram[0].value = parseFloat("22,00");
                        }
                        else if (parseFloat(Gram.value) > 10 && parseFloat(Gram.value) <= 20) {
                            CostGram[0].value = parseFloat("35,00");
                        }
                        else if (parseFloat(Gram.value) > 20 && parseFloat(Gram.value) <= 31, 5) {
                            CostGram[0].value = parseFloat("49,00");
                        }
                    }
                    else {
                        CostGram[0].value = parseFloat("0,00");
                    }

                break;
            }
            case "LV":
            {
                costProcent = (Sum.toFixed(2) * 0.21);
                    procent.value = "21% MwSt";

                    if (sendDhl.checked == true) {
                        if (parseFloat(Gram.value) <= 2) {
                            CostGram[0].value = parseFloat("15,00");
                        }
                        else if (parseFloat(Gram.value) > 2 && parseFloat(Gram.value) <= 5) {
                            CostGram[0].value = parseFloat("17,00");
                        }
                        else if (parseFloat(Gram.value) > 5 && parseFloat(Gram.value) <= 10) {
                            CostGram[0].value = parseFloat("22,00");
                        }
                        else if (parseFloat(Gram.value) > 10 && parseFloat(Gram.value) <= 20) {
                            CostGram[0].value = parseFloat("35,00");
                        }
                        else if (parseFloat(Gram.value) > 20 && parseFloat(Gram.value) <= 31, 5) {
                            CostGram[0].value = parseFloat("49,00");
                        }
                    }
                    else {
                        CostGram[0].value = parseFloat("0,00");
                    }

                break;
            }
            case "MT":
            {
                costProcent = (Sum.toFixed(2) * 0.18);
                    procent.value = "18% MwSt";

                    if (sendDhl.checked == true) {
                        if (parseFloat(Gram.value) <= 2) {
                            CostGram[0].value = parseFloat("15,00");
                        }
                        else if (parseFloat(Gram.value) > 2 && parseFloat(Gram.value) <= 5) {
                            CostGram[0].value = parseFloat("17,00");
                        }
                        else if (parseFloat(Gram.value) > 5 && parseFloat(Gram.value) <= 10) {
                            CostGram[0].value = parseFloat("22,00");
                        }
                        else if (parseFloat(Gram.value) > 10 && parseFloat(Gram.value) <= 20) {
                            CostGram[0].value = parseFloat("35,00");
                        }
                        else if (parseFloat(Gram.value) > 20 && parseFloat(Gram.value) <= 31, 5) {
                            CostGram[0].value = parseFloat("49,00");
                        }
                    }
                    else {
                        CostGram[0].value = parseFloat("0,00");
                    }

                break;
            }
            case "NL":
            {
                costProcent = (Sum.toFixed(2) * 0.21);
                    procent.value = "21% MwSt";

                    if (sendDhl.checked == true) {
                        if (parseFloat(Gram.value) <= 2) {
                            CostGram[0].value = parseFloat("15,00");
                        }
                        else if (parseFloat(Gram.value) > 2 && parseFloat(Gram.value) <= 5) {
                            CostGram[0].value = parseFloat("17,00");
                        }
                        else if (parseFloat(Gram.value) > 5 && parseFloat(Gram.value) <= 10) {
                            CostGram[0].value = parseFloat("22,00");
                        }
                        else if (parseFloat(Gram.value) > 10 && parseFloat(Gram.value) <= 20) {
                            CostGram[0].value = parseFloat("35,00");
                        }
                        else if (parseFloat(Gram.value) > 20 && parseFloat(Gram.value) <= 31, 5) {
                            CostGram[0].value = parseFloat("49,00");
                        }
                    }
                    else {
                        CostGram[0].value = parseFloat("0,00");
                    }

                break;
            }
            case "PL":
            {
                costProcent = (Sum.toFixed(2) * 0.23);
                    procent.value = "23% MwSt";

                    if (sendDhl.checked == true) {
                        if (parseFloat(Gram.value) <= 2) {
                            CostGram[0].value = parseFloat("15,00");
                        }
                        else if (parseFloat(Gram.value) > 2 && parseFloat(Gram.value) <= 5) {
                            CostGram[0].value = parseFloat("17,00");
                        }
                        else if (parseFloat(Gram.value) > 5 && parseFloat(Gram.value) <= 10) {
                            CostGram[0].value = parseFloat("22,00");
                        }
                        else if (parseFloat(Gram.value) > 10 && parseFloat(Gram.value) <= 20) {
                            CostGram[0].value = parseFloat("35,00");
                        }
                        else if (parseFloat(Gram.value) > 20 && parseFloat(Gram.value) <= 31, 5) {
                            CostGram[0].value = parseFloat("49,00");
                        }
                    }
                    else {
                        CostGram[0].value = parseFloat("0,00");
                    }
                break;
            }
            case "PT":
            {
                costProcent = (Sum.toFixed(2) * 0.23);
                    procent.value = "23% MwSt";

                    if (sendDhl.checked == true) {
                        if (parseFloat(Gram.value) <= 2) {
                            CostGram[0].value = parseFloat("15,00");
                        }
                        else if (parseFloat(Gram.value) > 2 && parseFloat(Gram.value) <= 5) {
                            CostGram[0].value = parseFloat("17,00");
                        }
                        else if (parseFloat(Gram.value) > 5 && parseFloat(Gram.value) <= 10) {
                            CostGram[0].value = parseFloat("22,00");
                        }
                        else if (parseFloat(Gram.value) > 10 && parseFloat(Gram.value) <= 20) {
                            CostGram[0].value = parseFloat("35,00");
                        }
                        else if (parseFloat(Gram.value) > 20 && parseFloat(Gram.value) <= 31, 5) {
                            CostGram[0].value = parseFloat("49,00");
                        }
                    }
                    else {
                        CostGram[0].value = parseFloat("0,00");
                    }

                break;
            }
            case "RO":
            {
                costProcent = (Sum.toFixed(2) * 0.19);
                    procent.value = "19% MwSt";

                    if (sendDhl.checked == true) {
                        if (parseFloat(Gram.value) <= 2) {
                            CostGram[0].value = parseFloat("15,00");
                        }
                        else if (parseFloat(Gram.value) > 2 && parseFloat(Gram.value) <= 5) {
                            CostGram[0].value = parseFloat("17,00");
                        }
                        else if (parseFloat(Gram.value) > 5 && parseFloat(Gram.value) <= 10) {
                            CostGram[0].value = parseFloat("22,00");
                        }
                        else if (parseFloat(Gram.value) > 10 && parseFloat(Gram.value) <= 20) {
                            CostGram[0].value = parseFloat("35,00");
                        }
                        else if (parseFloat(Gram.value) > 20 && parseFloat(Gram.value) <= 31, 5) {
                            CostGram[0].value = parseFloat("49,00");
                        }
                    }
                    else {
                        CostGram[0].value = parseFloat("0,00");
                    }
                break;
            }
            case "SE":
            {
                costProcent = (Sum.toFixed(2) * 0.25);
                    procent.value = "25% MwSt";

                    if (sendDhl.checked == true) {
                        if (parseFloat(Gram.value) <= 2) {
                            CostGram[0].value = parseFloat("15,00");
                        }
                        else if (parseFloat(Gram.value) > 2 && parseFloat(Gram.value) <= 5) {
                            CostGram[0].value = parseFloat("17,00");
                        }
                        else if (parseFloat(Gram.value) > 5 && parseFloat(Gram.value) <= 10) {
                            CostGram[0].value = parseFloat("22,00");
                        }
                        else if (parseFloat(Gram.value) > 10 && parseFloat(Gram.value) <= 20) {
                            CostGram[0].value = parseFloat("35,00");
                        }
                        else if (parseFloat(Gram.value) > 20 && parseFloat(Gram.value) <= 31, 5) {
                            CostGram[0].value = parseFloat("49,00");
                        }
                    }
                    else {
                        CostGram[0].value = parseFloat("0,00");
                    }

                break;
            }
            case "SI":
            {
                costProcent = (Sum.toFixed(2) * 0.22);
                    procent.value = "22% MwSt";

                    if (sendDhl.checked == true) {
                        if (parseFloat(Gram.value) <= 2) {
                            CostGram[0].value = parseFloat("15,00");
                        }
                        else if (parseFloat(Gram.value) > 2 && parseFloat(Gram.value) <= 5) {
                            CostGram[0].value = parseFloat("17,00");
                        }
                        else if (parseFloat(Gram.value) > 5 && parseFloat(Gram.value) <= 10) {
                            CostGram[0].value = parseFloat("22,00");
                        }
                        else if (parseFloat(Gram.value) > 10 && parseFloat(Gram.value) <= 20) {
                            CostGram[0].value = parseFloat("35,00");
                        }
                        else if (parseFloat(Gram.value) > 20 && parseFloat(Gram.value) <= 31, 5) {
                            CostGram[0].value = parseFloat("49,00");
                        }
                    }
                    else {
                        CostGram[0].value = parseFloat("0,00");
                    }

                break;
            }
            case "SK":
            {
                costProcent = (Sum.toFixed(2) * 0.20);
                    procent.value = "20% MwSt";

                    if (sendDhl.checked == true) 
                    {
                        if (parseFloat(Gram.value) <= 2) 
                        {
                            CostGram[0].value = parseFloat("15,00");
                        }
                        else if (parseFloat(Gram.value) > 2 && parseFloat(Gram.value) <= 5) {
                            CostGram[0].value = parseFloat("17,00");
                        }
                        else if (parseFloat(Gram.value) > 5 && parseFloat(Gram.value) <= 10) {
                            CostGram[0].value = parseFloat("22,00");
                        }
                        else if (parseFloat(Gram.value) > 10 && parseFloat(Gram.value) <= 20) {
                            CostGram[0].value = parseFloat("35,00");
                        }
                        else if (parseFloat(Gram.value) > 20 && parseFloat(Gram.value) <= 31, 5) {
                            CostGram[0].value = parseFloat("49,00");
                        }
                    }
                    else {
                        CostGram[0].value = parseFloat("0,00");
                    }

                break;
            }
            default:{

                if (sendDhl.checked == true) 
                {
                    if (value.target.value == "US") 
                    {
                        if (parseFloat(Gram.value) <= 2) {
                            CostGram[0].value = parseFloat("30,00");
                        }
                        else if (parseFloat(Gram.value) > 2 && parseFloat(Gram.value) <= 5) {
                            CostGram[0].value = parseFloat("40,00");
                        }
                        else if (parseFloat(Gram.value) > 5 && parseFloat(Gram.value) <= 10) {
                            CostGram[0].value = parseFloat("50,00");
                        }
                        else if (parseFloat(Gram.value) > 10 && parseFloat(Gram.value) <= 20) {
                            CostGram[0].value = parseFloat("60,00");
                        }
                        else if (parseFloat(Gram.value) > 20 && parseFloat(Gram.value) <= 31, 5) {
                            CostGram[0].value = parseFloat("70,00");
                        }
                    }
                    if (value.target.value == "RU" || value.target.value == "UA" || value.target.value == "BR" || value.target.value == "KZ") {
                        if (parseFloat(Gram.value) <= 5) {
                            CostGram[0].value = parseFloat("35,00");
                        }
                        else if (parseFloat(Gram.value) > 5 && parseFloat(Gram.value) <= 10) {
                            CostGram[0].value = parseFloat("39,50");
                        }
                        else if (parseFloat(Gram.value) > 10 && parseFloat(Gram.value) <= 20) {
                            CostGram[0].value = parseFloat("59,00");
                        }
                    }

                    if (value.target.value == "CHE" || value.target.value == "GBR") {
                        if (parseFloat(Gram.value) <= 2) {
                            CostGram[0].value = parseFloat("17,00");
                        }
                        else if (parseFloat(Gram.value) > 2 && parseFloat(Gram.value) <= 5) {
                            CostGram[0].value = parseFloat("29,00");
                        }
                        else if (parseFloat(Gram.value) > 5 && parseFloat(Gram.value) <= 10) {
                            CostGram[0].value = parseFloat("38,00");
                        }
                        else if (parseFloat(Gram.value) > 10 && parseFloat(Gram.value) <= 20) {
                            CostGram[0].value = parseFloat("52,00");
                        }
                        else if (parseFloat(Gram.value) > 21 && parseFloat(Gram.value) <= 31, 5) {
                            CostGram[0].value = parseFloat("59,00");
                        }

                    }
                }
                else {
                    CostGram[0].value = parseFloat("0,00");
                }

               
               
                break;
            }
        }
        proc.value = costProcent.toLocaleString('de-DE', {
            style: 'currency',
            currency: 'EUR'
        });;
    
        let ALLSUM = costProcent + Sum + parseFloat(CostGram[0].value);

        CostGram.forEach((item) => {
            item.value = parseFloat(CostGram[0].value).toLocaleString('de-DE', {
                style: 'currency',
                currency: 'EUR'
            });
        });

        for (let i = 0;i < cost.length;i++) 
        {
            cost[i].innerHTML = ALLSUM.toLocaleString('de-DE', {
                style: 'currency',
                currency: 'EUR'
            });

            cost[i].textContent = ALLSUM.toLocaleString('de-DE', {
                style: 'currency',
                currency: 'EUR'
            });

            cost[i].value = ALLSUM.toLocaleString('de-DE', {
                style: 'currency',
                currency: 'EUR'
            });
        }

        changePrice(ALLSUM);
    }

    function changePrice(newPrice) {
        currentPrice = newPrice;
    }

    function changeAdress(value) 
    {
        let rechnungSend = document.getElementById("rechnungSend");

        let rehnungBlock = ` <input class="form-control" id="RechnungAdresse" required name="RechnungAdresse" placeholder="E-Mail-Adresse" />
                                            <br />
                                            <div style="display:flex;gap:10px;">
                                                <input class="form-control" id="RechnungVorname" required name="RechnungVorname" placeholder="Vorname / first name *" />
                                                <input class="form-control" id="RechnungNachname" required name="RechnungNachname" placeholder="Nachname / surname *" />
                                            </div>
                                            <br />
                                            <div style="display:flex;gap:10px;">
                                                <input class="form-control" id="RechnungFirma" name="RechnungFirma" placeholder="Firma / company" />
                                                <input class="form-control" id="RechnungVat" name="RechnungVat" placeholder="USt - IdNr. / VAT id" />
                                            </div>

                                            <br />

                                            <input class="form-control" required id="RechnungStrasse" name="RechnungStrasse" placeholder="Straße und Hausnummer / street address *" />
                                            <br />
                                            <input class="form-control" id="RechnungAdressZusatz" name="RechnungAdressZusatz" placeholder="Adresszusatz / address suffix" />
                                            <br />

                                            <div style="display:flex;gap:10px;">
                                                <input class="form-control" required id="RechnungZip" name="RechnungZip" placeholder="Postleitzahl / zip code *" />
                                                <input class="form-control" required id="RechnungStadt" name="RechnungStadt" placeholder="Stadt / city *" />
                                            </div>
                                            <br />
                                            <div style="display:flex;gap:10px;">
                                                <select class="form-select" required name="RechnungLand" id="RechnungLand" placeholder="Land / country *">
                                                    <option selected></option>
                                                    <option value="DE">Deutschland</option>
                                                    <option value="AF">Afghanistan</option>
                                                    <option value="EG">Ägypten</option>
                                                    <option value="AL">Albanien</option>
                                                    <option value="DZ">Algerien</option>
                                                    <option value="AS">Amerikanisch-Samoa</option>
                                                    <option value="VI">Amerikanische Jungferninseln</option>
                                                    <option value="AD">Andorra</option>
                                                    <option value="AO">Angola</option>
                                                    <option value="AI">Anguilla</option>
                                                    <option value="AQ">Antarktis</option>
                                                    <option value="AG">Antigua und Barbuda</option>
                                                    <option value="GQ">Äquatorialguinea</option>
                                                    <option value="AR">Argentinien</option>
                                                    <option value="AM">Armenien</option>
                                                    <option value="AW">Aruba</option>
                                                    <option value="AZ">Aserbaidschan</option>
                                                    <option value="ET">Äthiopien</option>
                                                    <option value="AU">Australien</option>
                                                    <option value="BS">Bahamas</option>
                                                    <option value="BH">Bahrain</option>
                                                    <option value="BD">Bangladesch</option>
                                                    <option value="BB">Barbados</option>
                                                    <option value="BY">Belarus</option>
                                                    <option value="BE">Belgien</option>
                                                    <option value="BZ">Belize</option>
                                                    <option value="BJ">Benin</option>
                                                    <option value="BM">Bermuda</option>
                                                    <option value="BT">Bhutan</option>
                                                    <option value="BO">Bolivien</option>
                                                    <option value="BQ">Bonaire, Sint Eustatius und Saba</option>
                                                    <option value="BA">Bosnien und Herzegowina</option>
                                                    <option value="BW">Botswana</option>
                                                    <option value="BV">Bouvetinsel</option>
                                                    <option value="BR">Brasilien</option>
                                                    <option value="VG">Britische Jungferninseln</option>
                                                    <option value="IO">Britisches Territorium im Indischen Ozean</option>
                                                    <option value="BN">Brunei Darussalam</option>
                                                    <option value="BG">Bulgarien</option>
                                                    <option value="BF">Burkina Faso</option>
                                                    <option value="BI">Burundi</option>
                                                    <option value="CL">Chile</option>
                                                    <option value="CN">China</option>
                                                    <option value="CK">Cookinseln</option>
                                                    <option value="CR">Costa Rica</option>
                                                    <option value="CI">Côte d’Ivoire</option>
                                                    <option value="CW">Curaçao</option>
                                                    <option value="DK">Dänemark</option>
                                                    <option value="DJ">Dschibuti</option>
                                                    <option value="DM">Dominica</option>
                                                    <option value="DO">Dominikanische Republik</option>
                                                    <option value="EC">Ecuador</option>
                                                    <option value="SV">El Salvador</option>
                                                    <option value="ER">Eritrea</option>
                                                    <option value="EE">Estland</option>
                                                    <option value="SZ">Eswatini</option>
                                                    <option value="FK">Falklandinseln</option>
                                                    <option value="FO">Färöer</option>
                                                    <option value="FJ">Fidschi</option>
                                                    <option value="FI">Finnland</option>
                                                    <option value="FR">Frankreich</option>
                                                    <option value="GF">Französisch-Guayana</option>
                                                    <option value="PF">Französisch-Polynesien</option>
                                                    <option value="TF">Französische Süd- und Antarktisgebiete</option>
                                                    <option value="GA">Gabun</option>
                                                    <option value="GM">Gambia</option>
                                                    <option value="GE">Georgien</option>
                                                    <option value="GH">Ghana</option>
                                                    <option value="GI">Gibraltar</option>
                                                    <option value="GD">Grenada</option>
                                                    <option value="GR">Griechenland</option>
                                                    <option value="GL">Grönland</option>
                                                    <option value="GB">Großbritannien</option>
                                                    <option value="GP">Guadeloupe</option>
                                                    <option value="GU">Guam</option>
                                                    <option value="GT">Guatemala</option>
                                                    <option value="GG">Guernsey</option>
                                                    <option value="GN">Guinea</option>
                                                    <option value="GW">Guinea-Bissau</option>
                                                    <option value="GY">Guyana</option>
                                                    <option value="HT">Haiti</option>
                                                    <option value="HM">Heard- und McDonald-Inseln</option>
                                                    <option value="HN">Honduras</option>
                                                    <option value="HK">Hongkong</option>
                                                    <option value="IN">Indien</option>
                                                    <option value="ID">Indonesien</option>
                                                    <option value="IQ">Irak</option>
                                                    <option value="IR">Iran</option>
                                                    <option value="IE">Irland</option>
                                                    <option value="IS">Island</option>
                                                    <option value="IL">Israel</option>
                                                    <option value="IT">Italien</option>
                                                    <option value="JM">Jamaika</option>
                                                    <option value="JP">Japan</option>
                                                    <option value="YE">Jemen</option>
                                                    <option value="JE">Jersey</option>
                                                    <option value="JO">Jordanien</option>
                                                    <option value="KY">Kaimaninseln</option>
                                                    <option value="KH">Kambodscha</option>
                                                    <option value="CM">Kamerun</option>
                                                    <option value="CA">Kanada</option>
                                                    <option value="CV">Kap Verde</option>
                                                    <option value="KZ">Kasachstan</option>
                                                    <option value="QA">Katar</option>
                                                    <option value="KE">Kenia</option>
                                                    <option value="KG">Kirgisistan</option>
                                                    <option value="KI">Kiribati</option>
                                                    <option value="CC">Kokosinseln</option>
                                                    <option value="CO">Kolumbien</option>
                                                    <option value="KM">Komoren</option>
                                                    <option value="CD">Kongo-Kinshasa</option>
                                                    <option value="CG">Kongo-Brazzaville</option>
                                                    <option value="KR">Korea, Republik</option>
                                                    <option value="XK">Kosovo</option>
                                                    <option value="HR">Kroatien</option>
                                                    <option value="CU">Kuba</option>
                                                    <option value="KW">Kuwait</option>
                                                    <option value="LA">Laos</option>
                                                    <option value="LS">Lesotho</option>
                                                    <option value="LV">Lettland</option>
                                                    <option value="LB">Libanon</option>
                                                    <option value="LR">Liberia</option>
                                                    <option value="LY">Libyen</option>
                                                    <option value="LI">Liechtenstein</option>
                                                    <option value="LT">Litauen</option>
                                                    <option value="LU">Luxemburg</option>
                                                    <option value="MO">Macau</option>
                                                    <option value="MG">Madagaskar</option>
                                                    <option value="MW">Malawi</option>
                                                    <option value="MY">Malaysia</option>
                                                    <option value="MV">Malediven</option>
                                                    <option value="ML">Mali</option>
                                                    <option value="MT">Malta</option>
                                                    <option value="MA">Marokko</option>
                                                    <option value="MH">Marshallinseln</option>
                                                    <option value="MQ">Martinique</option>
                                                    <option value="MR">Mauretanien</option>
                                                    <option value="MU">Mauritius</option>
                                                    <option value="YT">Mayotte</option>
                                                    <option value="MK">Mazedonien</option>
                                                    <option value="MX">Mexiko</option>
                                                    <option value="FM">Mikronesien</option>
                                                    <option value="MD">Moldau</option>
                                                    <option value="MC">Monaco</option>
                                                    <option value="MN">Mongolei</option>
                                                    <option value="ME">Montenegro</option>
                                                    <option value="MS">Montserrat</option>
                                                    <option value="MZ">Mosambik</option>
                                                    <option value="MM">Myanmar</option>
                                                    <option value="NA">Namibia</option>
                                                    <option value="NR">Nauru</option>
                                                    <option value="NP">Nepal</option>
                                                    <option value="NC">Neukaledonien</option>
                                                    <option value="NZ">Neuseeland</option>
                                                    <option value="NI">Nicaragua</option>
                                                    <option value="NL">Niederlande</option>
                                                    <option value="NE">Niger</option>
                                                    <option value="NG">Nigeria</option>
                                                    <option value="NU">Niue</option>
                                                    <option value="MP">Nördliche Marianen</option>
                                                    <option value="KP">Nordkorea</option>
                                                    <option value="NO">Norwegen</option>
                                                    <option value="OM">Oman</option>
                                                    <option value="AT">Österreich</option>
                                                    <option value="TL">Osttimor</option>
                                                    <option value="PK">Pakistan</option>
                                                    <option value="PW">Palau</option>
                                                    <option value="PS">Palästinensische Gebiete</option>
                                                    <option value="PA">Panama</option>
                                                    <option value="PG">Papua-Neuguinea</option>
                                                    <option value="PY">Paraguay</option>
                                                    <option value="PE">Peru</option>
                                                    <option value="PH">Philippinen</option>
                                                    <option value="PN">Pitcairninseln</option>
                                                    <option value="PL">Polen</option>
                                                    <option value="PT">Portugal</option>
                                                    <option value="PR">Puerto Rico</option>
                                                    <option value="RE">Réunion</option>
                                                    <option value="RW">Ruanda</option>
                                                    <option value="RO">Rumänien</option>
                                                    <option value="RU">Russland</option>
                                                    <option value="SB">Salomonen</option>
                                                    <option value="ZM">Sambia</option>
                                                    <option value="WS">Samoa</option>
                                                    <option value="SM">San Marino</option>
                                                    <option value="ST">São Tomé und Príncipe</option>
                                                    <option value="SA">Saudi-Arabien</option>
                                                    <option value="SE">Schweden</option>
                                                    <option value="CH">Schweiz</option>
                                                    <option value="SN">Senegal</option>
                                                    <option value="RS">Serbien</option>
                                                    <option value="SC">Seychellen</option>
                                                    <option value="SL">Sierra Leone</option>
                                                    <option value="ZW">Simbabwe</option>
                                                    <option value="SG">Singapur</option>
                                                    <option value="SX">Sint Maarten</option>
                                                    <option value="SK">Slowakei</option>
                                                    <option value="SI">Slowenien</option>
                                                    <option value="SO">Somalia</option>
                                                    <option value="HK">Sonderverwaltungsregion Hongkong</option>
                                                    <option value="MO">Sonderverwaltungsregion Macau</option>
                                                    <option value="ES">Spanien</option>
                                                    <option value="LK">Sri Lanka</option>
                                                    <option value="SH">St. Helena</option>
                                                    <option value="KN">St. Kitts und Nevis</option>
                                                    <option value="LC">St. Lucia</option>
                                                    <option value="PM">St. Pierre und Miquelon</option>
                                                    <option value="VC">St. Vincent und die Grenadinen</option>
                                                    <option value="ZA">Südafrika</option>
                                                    <option value="SD">Sudan</option>
                                                    <option value="GS">Südgeorgien und die Südlichen Sandwichinseln</option>
                                                    <option value="KR">Südkorea</option>
                                                    <option value="SS">Südsudan</option>
                                                    <option value="SR">Suriname</option>
                                                    <option value="SJ">Svalbard und Jan Mayen</option>
                                                    <option value="SY">Syrien</option>
                                                    <option value="TJ">Tadschikistan</option>
                                                    <option value="TW">Taiwan</option>
                                                    <option value="TZ">Tansania</option>
                                                    <option value="TH">Thailand</option>
                                                    <option value="TG">Togo</option>
                                                    <option value="TK">Tokelau</option>
                                                    <option value="TO">Tonga</option>
                                                    <option value="TT">Trinidad und Tobago</option>
                                                    <option value="TD">Tschad</option>
                                                    <option value="CZ">Tschechien</option>
                                                    <option value="TN">Tunesien</option>
                                                    <option value="TR">Türkei</option>
                                                    <option value="TM">Turkmenistan</option>
                                                    <option value="TC">Turks- und Caicosinseln</option>
                                                    <option value="TV">Tuvalu</option>
                                                    <option value="UG">Uganda</option>
                                                    <option value="UA">Ukraine</option>
                                                    <option value="HU">Ungarn</option>
                                                    <option value="UY">Uruguay</option>
                                                    <option value="UZ">Usbekistan</option>
                                                    <option value="VU">Vanuatu</option>
                                                    <option value="VA">Vatikanstadt</option>
                                                    <option value="VE">Venezuela</option>
                                                    <option value="AE">Vereinigte Arabische Emirate</option>
                                                    <option value="US">Vereinigte Staaten</option>
                                                    <option value="VN">Vietnam</option>
                                                    <option value="WF">Wallis und Futuna</option>
                                                    <option value="EH">Westsahara</option>
                                                    <option value="CF">Zentralafrikanische Republik</option>
                                                    <option value="CY">Zypern</option>
                                                </select>
                                                <input class="form-control" required name="RechnungTelefon" id="RechnungTelefon" placeholder="Telefonnummer / phone number *" />
                                            </div>`


        if (value == true) 
        {
            rechnungSend.style.display = "none";
            rechnungSend.innerHTML = "";
        }
        else 
        {
            rechnungSend.style.display = "block";
            rechnungSend.innerHTML = rehnungBlock;
        }
       
    }

    function OpenModalInfo(id,IdOrder) 
    {

        let OrderNum = document.getElementById("invoiceNumber-" + id);
        
        let invoiceNumber = `SK${OrderNum.value}`;

        console.log(invoiceNumber);

        let cheker = document.getElementById(id);

        let cost = document.getElementById("costedI-" + id);
        var stringWithoutEuro = cost.innerHTML.replace("€", "");
        var costen = parseFloat(stringWithoutEuro.replace(',', '.').trim());


        idItem = id;
        var modal = document.getElementById(`myModal-${id}`);

        modal.style.display = "block";

        paypal.Buttons({
            createOrder: function (data, actions) {
                return actions.order.create({
                    purchase_units: [{
                        amount: {
                            value: currentPrice
                        },
                        invoice_id: invoiceNumber
                    }]
                });
            },
            onApprove: function (data, actions) 
            {
                return actions.order.capture().then(function (details) {
                    document.getElementById('myForm').submit();
                });
            },
            onError: function (err) {
                alert('Transaktion fehlgeschlagen');
            }
        }).render(`#paypal-button-container-${id}`);
        
    }

    function closedModal(id) 
    {
        idItem = id;
        var modal = document.getElementById(`myModal-${id}`);
        modal.style.display = "none";
    }

    window.onclick = function (event) 
    {
        var modal = document.getElementById(`myModal-${idItem}`);

        if (event.target == modal) 
        {
            modal.style.display = "none";
        }
    }

    document.addEventListener("DOMContentLoaded", function () 
    {
        let count = document.querySelectorAll("#countOrderSysteam");
        count.forEach((item) => {
            item.value = 1;
        })
    });

    function remove(empty) 
    {
        $.ajax({
            type: "GET",
            url: "/Konfigurator/RemoveOrder",
            data: { data: empty},
            success: function (response) {
                console.log(response);
            },
            error: function (xhr, status, error) {
                console.error(error);
            }
        });

        location.reload();
    }

</script>
