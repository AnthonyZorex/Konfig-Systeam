@{
    ViewData["Title"] = "Schipeed";
}

<style>
    body {
        font-family: Arial, sans-serif;
        margin: 20px;
    }

    .container {
        max-width: 600px;
        margin: auto;
    }

    .form-group {
        margin-bottom: 15px;
    }

        .form-group label {
            display: block;
            margin-bottom: 5px;
        }

        .form-group input {
            width: 100%;
            padding: 8px;
            box-sizing: border-box;
        }

    .btn {
        padding: 10px 15px;
        border: none;
        color: white;
        background-color: #007bff;
        cursor: pointer;
    }

        .btn:hover {
            background-color: #0056b3;
        }

    .result {
        margin-top: 20px;
    }
</style>
    <div class="container">
        <h1>Track Package</h1>
        <form id="trackingForm">
            <div class="form-group">
                <label for="trackingNumber">Tracking Number:</label>
                <input type="text" id="trackingNumber" name="trackingNumber" required />
            </div>
            <button type="submit" class="btn">Track</button>
        </form>
        <div class="result" id="result"></div>
    </div>

    <script>
        document.getElementById('trackingForm').addEventListener('submit', function (event) {
            event.preventDefault();
            const trackingNumber = document.getElementById('trackingNumber').value;
            trackPackage(trackingNumber);
        });

        async function trackPackage(trackingNumber) 
        {
            const apiKey = 'GJMIipNwzFURXdT4l1Fu4uGPF9uhbM87'; // Замените на ваш действительный API ключ

            const options = {
                method: 'GET',
                headers: {
                    'DHL-API-Key': 'demo-key',
                    'Content-Type': 'application/json' // Убедитесь, что это требуемый заголовок
                }
            };

                fetch(`https://api-test.dhl.com/track/shipments?trackingNumber=${trackingNumber}`, options)
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`HTTP error! Status: ${response.status}`);
                    }
                    return response.json();
                })
                .then(data => console.log(data))
                .catch(err => console.error('Error:', err));
        }

    </script>
