
@{
    ViewData["Title"] = "SystemInfo";
}
<style>
    a {
        color: black;
    }

        a:hover {
            color: black;
        }

    li:hover {
        background-color: #e4e4e4;
    }

    form {
        background: #F9F9F9;
        padding: 30px;
        border-radius: 10px;
    }

    .list-group-item.active {
        z-index: 2;
        color: #fff;
        background-color: #a1c5fa;
        border-color: #0d6efd;
    }

    .table > thead {
        border-bottom: 3px solid red;
        vertical-align: bottom;
    }

    #zylidner_create_name {
        border-bottom: 3px solid red;
    }

    #Image-load-product {
        padding-bottom: 10px;
        padding-top: 10px;
        display: grid;
        grid-template-columns: repeat(2,auto);
    }

    .Image-load_item:nth-child(1) {
        max-width: 250px;
        margin-right: auto;
    }

    .Image-load_item:nth-child(2) {
        max-width: 250px;
        margin-left: auto;
    }

    input[type="checkbox"] {
        width: 30px;
        height: 30px;
    }
</style>
<button class="btn danger mb-4" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasLeft" aria-controls="offcanvasLeft">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-adjustments-horizontal"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M14 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0" /><path d="M4 6l8 0" /><path d="M16 6l4 0" /><path d="M8 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0" /><path d="M4 12l2 0" /><path d="M10 12l10 0" /><path d="M17 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0" /><path d="M4 18l11 0" /><path d="M19 18l1 0" /></svg>
</button>
<div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasLeft" aria-labelledby="offcanvasLeftLabel">
    <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasLeftLabel">Menu</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Закрыть"></button>
    </div>
    <div class="offcanvas-body">
        <ul class="list-group list-group-flush">
            <li class="list-group-item"><a href="@Url.Action("ImageConfig","Home")"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-photo-plus"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M15 8h.01" /><path d="M12.5 21h-6.5a3 3 0 0 1 -3 -3v-12a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v6.5" /><path d="M3 16l5 -5c.928 -.893 2.072 -.893 3 0l4 4" /><path d="M14 14l1 -1c.67 -.644 1.45 -.824 2.182 -.54" /><path d="M16 19h6" /><path d="M19 16v6" /></svg> Bilder</a></li>
            <li class="list-group-item active"><a href="@Url.Action("SystemInfo","Home")"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" class="icon icon-tabler icons-tabler-filled icon-tabler-assembly"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M13.666 1.429l6.75 3.98q .1 .06 .18 .133l.009 .008l.106 .075a3.22 3.22 0 0 1 1.284 2.39l.005 .203v7.284c0 1.175 -.643 2.256 -1.623 2.793l-6.804 4.302c-.98 .538 -2.166 .538 -3.2 -.032l-6.695 -4.237a3.23 3.23 0 0 1 -1.678 -2.826v-7.285a3.21 3.21 0 0 1 1.65 -2.808l6.775 -3.995a3.34 3.34 0 0 1 3.24 .015m-.64 5.343a2.03 2.03 0 0 0 -2 -.014l-3.023 1.804a1.99 1.99 0 0 0 -1.002 1.736v3.278a2 2 0 0 0 1.03 1.75l2.946 1.89c.657 .367 1.39 .367 1.994 .033l3.054 -1.955c.582 -.322 .976 -.992 .976 -1.719v-3.277l-.005 -.164a2 2 0 0 0 -.725 -1.391l-.092 -.07l-.056 -.047a1 1 0 0 0 -.096 -.064z" /></svg> SystemInfo</a></li>
                <li class="list-group-item">
                    <a href="@Url.Action("Index","PageRedact")">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path d="M0 3.75C0 2.784.784 2 1.75 2h20.5c.966 0 1.75.784 1.75 1.75v16.5A1.75 1.75 0 0 1 22.25 22H1.75A1.75 1.75 0 0 1 0 20.25ZM22.5 7h-21v13.25c0 .138.112.25.25.25h20.5a.25.25 0 0 0 .25-.25Zm-10-3.5v2h10V3.75a.25.25 0 0 0-.25-.25ZM7 3.5v2h4v-2Zm-5.25 0a.25.25 0 0 0-.25.25V5.5h4v-2Z"></path></svg>
                    Bearbeiten von Seiten</a></li>
                <li class="list-group-item"><a href="@Url.Action("Blogs","Home")"> 
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="24" height="24"><path d="M0 1.75A.75.75 0 0 1 .75 1h4.253c1.227 0 2.317.59 3 1.501A3.743 3.743 0 0 1 11.006 1h4.245a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75h-4.507a2.25 2.25 0 0 0-1.591.659l-.622.621a.75.75 0 0 1-1.06 0l-.622-.621A2.25 2.25 0 0 0 5.258 13H.75a.75.75 0 0 1-.75-.75Zm7.251 10.324.004-5.073-.002-2.253A2.25 2.25 0 0 0 5.003 2.5H1.5v9h3.757a3.75 3.75 0 0 1 1.994.574ZM8.755 4.75l-.004 7.322a3.752 3.752 0 0 1 1.992-.572H14.5v-9h-3.495a2.25 2.25 0 0 0-2.25 2.25Z"></path></svg>
                    Blogs</a></li>
            <li class="list-group-item"><a href="@Url.Action("SendMail","Home")"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-mail"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z" /><path d="M3 7l9 6l9 -6" /></svg> E-Mail senden</a></li>
            <li class="list-group-item "><a href="@Url.Action("Index","Home")"> <img src="@("/compression/doppelzylinder.webp")" height="24" width="24" /> Profil-Doppelzylinder</a></li>
            <li class="list-group-item"><a href="@Url.Action("Profil_HalbzylinderRout","Home")"> <img src="@("/compression/halbzylinder.webp")" height="24" width="24" /> Profil-Halbzylinder</a></li>
            <li class="list-group-item"><a href="@Url.Action("Profil_KnaufzylinderRout","Home")"> <img src="@("/compression/knaufzylinder.webp")" height="24" width="24" /> Profil-Knaufzylinder</a></li>
            <li class="list-group-item"><a href="@Url.Action("HebelzylinderRout","Home")"> <img src="@("/compression/briefkastenzylinder.webp")" height="24" width="24" /> Hebelzylinder</a></li>
            <li class="list-group-item"><a href="@Url.Action("VorhangschlossRout","Home")"> <img src="@("/compression/vorhangschloss.webp")" height="24" width="24" /> Vorhangschloss</a></li>
            <li class="list-group-item"><a href="@Url.Action("Aussenzylinder_RundzylinderRout","Home")"> <img src="@("/compression/aussenzylinder.webp")" height="24" width="24" /> Aussenzylinder / Rundzylinder</a></li>
        </ul>
    </div>
</div>
<div>
    <h1>@ViewData["Title"]</h1>
      <div id="alertBox" class="alert alert-success d-none alert-dismissible fade" role="alert" >
        <span id="alertMessage">Die Daten wurden erfolgreich gespeichert!</span>
        <button type="button" class="btn-close" aria-label="Close" onclick="closeAlert()"></button>
    </div>
</div>
    <form asp-action="Create_Sys" id="systemInfoForm" enctype="multipart/form-data" asp-controller="Home">

        @if (ViewBag.SystemChois != null)
        {
                <div class="form-check form-switch mb-5">
                    <input class="form-check-input" type="checkbox" role="switch" onchange="changeLoad_image(event.target.checked)" name="flexSwitchCheckChecked" id="flexSwitchCheckChecked" checked>
                </div>

                <div id="loadServerItem" style="display:none">
                    <div class="input-group mb-5">
                        <input type="text" class="form-control" name="Server_render" readonly id="loadItem" aria-describedby="button-addon2">
                <button class="btn btn-outline-secondary" data-bs-toggle="modal" data-bs-target="#AllServerImage" type="button" id="button-addon2">Laden</button>
                    </div>
                </div>

                <div class="modal fade" id="AllServerImage" tabindex="-1">
                    <div class="modal-dialog modal-xl">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h6 class="modal-title"></h6>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Закрыть"></button>
                            </div>
                            <div class="modal-body">

                                <div class="input-group mb-3">
                                    <input type="text" class="form-control"  id="SearchItem" aria-describedby="button-addon2">
                                    <button class="btn btn-outline-secondary" onclick="findImg()" type="button" id="serch">Bilde finden</button>
                                </div>
                                <div style="display:grid;grid-template-columns:repeat(2,auto)">
                                    @foreach (var imageName in ViewBag.ServerImages)
                                    {
                                        <div style="border:1px solid red" id="ChoiseItem">
                                            <input type="checkbox" class="form-check" height="30" width="30" />
                                            <img src="@("/compression/" + imageName)" style="padding:5px" height="300" width="300" alt="@imageName" />
                                        </div>
                                    }
                                </div>


                            </div>
                            <div class="modal-footer">
                                     <button type="button" class="btn btn-primary" onclick="ChoiseImage()" data-bs-dismiss="modal">Laden</button>
                                <button type="button" class="btn danger" data-bs-dismiss="modal">Schließen</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div>
                    <label for="Images">Bilder auswählen:</label>
                    <input type="file" name="Images" value=""   multiple class="form-control" />
                    </div>

                <div class="form-group">
                    <label>Aktuelles Bild:</label>
                    <br />
                    <img src="@("/compression/"+ @ViewBag.Galery )" alt="Uploaded Image" style="max-width: 200px;" />

                    <input type="hidden" name="OldImage" value="@ViewBag.Galery" />
                </div>

            <div style="margin-bottom: 50px;margin-top: 50px">
             <label>Systemname</label>
            <input name="KeyName" id="NameSys" required value="@ViewBag.SystemChois.NameSysteam" type="text" class="form-control" />
            </div>

                <div id="Image-load_item" class="mb-5">
                    <label for="Images">Schlüssel Bild:</label>
                    <input type="file" name="ImagesKey" multiple class="form-control" />
                </div>

            <div style="margin-bottom: 50px;">
            <label>Schlüsselkosten</label>
            <input name="KeyCost" type="number" required value="@ViewBag.SystemChois.Price" step="0,1" min="0" class="form-control" />
            </div>
            <input type="hidden" name="coppy" value="true" />
                <input type="hidden" name="coppyId" value="@ViewBag.SystemChois.Id"  />
        }
        else
        {

            <div class="form-check form-switch mb-5">
                <input class="form-check-input" type="checkbox" role="switch" onchange="changeLoad_image(event.target.checked)" name="flexSwitchCheckChecked" id="flexSwitchCheckChecked" checked>
            </div>

                <div id="loadServerItem" style="display:none">
                    <div class="input-group mb-5">
                        <input type="text" class="form-control" name="Server_render" readonly id="loadItem" aria-describedby="button-addon2">
                <button class="btn btn-outline-secondary" data-bs-toggle="modal" data-bs-target="#AllServerImage" type="button" id="button-addon2">Laden</button>
                    </div>
                </div>

                <div class="modal fade" id="AllServerImage" tabindex="-1">
                    <div class="modal-dialog modal-xl">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h6 class="modal-title"></h6>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Закрыть"></button>
                            </div>
                            <div class="modal-body">

                                <div class="input-group mb-3">
                                    <input type="text" class="form-control" id="SearchItem" aria-describedby="button-addon2">
                                    <button class="btn btn-outline-secondary" onclick="findImg()" type="button" id="serch">Bilde finden</button>
                                </div>
                                <div style="display:grid;grid-template-columns:repeat(2,auto)">
                                    @foreach (var imageName in ViewBag.ServerImages)
                                    {
                                        <div style="border:1px solid red" id="ChoiseItem">
                                            <input type="checkbox" class="form-check" height="30" width="30" />
                                            <img src="@("/compression/" + imageName)" style="padding:5px" height="300" width="300" alt="@imageName" />
                                        </div>
                                    }
                                </div>


                            </div>
                            <div class="modal-footer" >
                        <button type="button" class="btn btn-primary" onclick="ChoiseImage()" data-bs-dismiss="modal">Laden</button>
                                <button type="button" class="btn danger" data-bs-dismiss="modal">Schließen</button>
                            </div>
                        </div>
                    </div>
                </div>


                <div id="Image-load_item" class="mb-5">
                    <label for="Images">Bilder auswählen:</label>
                    <input type="file"  name="Images" multiple class="form-control" />
                </div>

            <div style="margin-bottom: 50px;margin-top: 50px">
             <label>System</label>
            <input name="KeyName" required id="NameSys" type="text" class="form-control" />
            </div>


            <div id="Image-load_item" class="mb-5">
                <label for="ImagesKey">Schlüssel Bild:</label>
                <input type="file" name="ImagesKey" multiple class="form-control" />
            </div>

            <div style="margin-bottom: 50px;">
            <label>Schlüssel Preis</label>
            <input name="KeyCost" required type="number" step="0,1" min="0" class="form-control" />
            </div>
        }
       
    <button class="btn danger" id="submitForm">System erstellen</button>
    </form>

  @using (Html.BeginForm("EditSystem", "Home", FormMethod.Get))
    {
        <table class="table table-bordered table-sm" id="Table3" >
            <thead>
                <tr>
                    <th>NameSysteam</th>
                    <th>Price</th>
                    <th>Lieferzeit</th>
                    <th>LieferzeitGrosse</th>
                    <th>Bearbeiten</th>
                    <th>Löschen</th>
                    <th>Vorlage</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in ViewBag.item)
                {
                    <tr>
                        <td><h6>@item.NameSysteam</h6></td>
                        <td><h6>@item.Price.ToString("C")</h6></td>
                        <td><h6>@item.Lieferzeit</h6></td>
                        <td><h6>@item.LieferzeitGrosse</h6></td>
                        <td>
                            <a href="@Url.Action("Edit_System", "Home", new { id = item.Id })">
                                <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-edit">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                    <path d="M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1" />
                                    <path d="M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z" />
                                    <path d="M16 5l3 3" />
                                </svg>
                            </a>
                        </td>
                        <td>
                            <a href="@Url.Action("Delete_System", "Home", new { id = item.Id })">
                                <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-file-x">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                    <path d="M14 3v4a1 1 0 0 0 1 1h4" />
                                    <path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z" />
                                    <path d="M10 12l4 4m0 -4l-4 4" />
                                </svg>
                            </a>
                        </td>
                        <td>
                            <a href="@Url.Action("SystemInfo", "Home", new { id = item.Id })">
                                <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-table-plus">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                    <path d="M12.5 21h-7.5a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v7.5" />
                                    <path d="M3 10h18" />
                                    <path d="M10 3v18" />
                                    <path d="M16 19h6" />
                                    <path d="M19 16v6" />
                                </svg>
                            </a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    }

@section scripts
{
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
    <script type="text/javascript">


        function changeLoad_image(item) {
            let loadblock = document.getElementById("loadServerItem");
            let imageBlock = document.getElementById("Image-load_item");

            if (item === true) {
                imageBlock.style.display = "block";
                loadblock.style.display = "none";
            }
            else {
                imageBlock.style.display = "none";
                loadblock.style.display = "block";
            }

        }

        function findImg() {
            let allServerImg = document.querySelectorAll("#ChoiseItem"); 
            let SearchItem = document.getElementById("SearchItem");
            let find = SearchItem.value;

            allServerImg.forEach((item) => {

                let valueItem = item.children[1].alt;
                if (valueItem.includes(find)) {
                    item.style.display = "grid";
                }
                else {
                    item.style.display = "none";
                }

                if (find == "") {
                    item.style.display = "grid";
                }

            });
        }

        function ChoiseImage() {

            let All_Items_Img = document.querySelectorAll("#ChoiseItem");
            let serverImg = document.getElementById("loadItem");

            All_Items_Img.forEach((item) => {

                if (item.childNodes[1].checked == true) {
                    console.log(item.childNodes[3].alt);
                    serverImg.value = item.childNodes[3].alt;
                }
            });
        }


            function updateTable(data) {
            var tableBody = document.querySelector('#Table3 tbody'); // Находим tbody

            // Очищаем текущие строки таблицы
            tableBody.innerHTML = '';

            // Проходим по всем данным и добавляем их в таблицу
            data.forEach(function(item) {
                var row = document.createElement('tr');

                // Создаем ячейки и добавляем данные
                var cellName = document.createElement('td');
                cellName.innerHTML = '<h6>' + item.nameSysteam + '</h6>';
                row.appendChild(cellName);

                var cellPrice = document.createElement('td');
                cellPrice.innerHTML = '<h6>' + item.price.toFixed(2) + ' €' + '</h6>';
                row.appendChild(cellPrice);

                var cellLieferzeit = document.createElement('td');
                cellLieferzeit.innerHTML = '<h6>' + item.lieferzeit + '</h6>';
                row.appendChild(cellLieferzeit);

                var cellLieferzeitGrosse = document.createElement('td');
                cellLieferzeitGrosse.innerHTML = '<h6>' + item.lieferzeitGrosse + '</h6>';
                row.appendChild(cellLieferzeitGrosse);

                // Кнопка редактирования
                var cellEdit = document.createElement('td');
                    cellEdit.innerHTML = '<a href="/Home/Edit_System?id=' + item.id + '">  <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-edit"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1" /><path d="M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z" /><path d="M16 5l3 3" /></svg></a>';
                row.appendChild(cellEdit);

                // Кнопка удаления
                var cellDelete = document.createElement('td');
                cellDelete.innerHTML = '<a href="/Home/Delete_System?id=' + item.id + '"> <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-file-x"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M14 3v4a1 1 0 0 0 1 1h4" /><path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z" /><path d="M10 12l4 4m0 -4l-4 4" /></svg></a>';
                row.appendChild(cellDelete);

                // Кнопка "Vorlage"
                var cellVorlage = document.createElement('td');
                cellVorlage.innerHTML = '<a href="/Home/SystemInfo?id=' + item.id + '"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-table-plus"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M12.5 21h-7.5a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v7.5" /><path d="M3 10h18" /><path d="M10 3v18" /><path d="M16 19h6" /><path d="M19 16v6" /></svg></a>';
                row.appendChild(cellVorlage);

                // Добавляем строку в таблицу
                tableBody.appendChild(row);
            });
        }

         

        // Функция для запроса на сервер и обновления данных таблицы
        function refreshTable() {
            axios.get('/Home/GetUpdatedSystems')
                .then(function(response) {
                    // Получаем данные с сервера
                    var data = response.data;

                    // Обновляем таблицу
                    updateTable(data);
                })
                .catch(function(error) {
                    console.error('Error fetching data:', error);
                });
        }

          function showAlert(message) {
            const alertBox = document.getElementById('alertBox');
            const alertMessage = document.getElementById('alertMessage');

            alertMessage.innerText = message;  // Установка сообщения
            alertBox.classList.remove('d-none');  // Удалить класс d-none
            alertBox.classList.add('show'); // Добавить класс show для отображения
        }

    
        function closeAlert() {
            const alertBox = document.getElementById('alertBox');
            alertBox.classList.remove('show');  // Удалить класс show
            alertBox.classList.add('d-none');  // Добавить класс d-none для скрытия
        }


        document.getElementById('submitForm').addEventListener('click', function (event) {
        event.preventDefault(); 

        var form = document.getElementById('systemInfoForm');

        var formData = new FormData(form);

            let isValid = true;
            $('input[required], select[required], textarea[required]').each(function () {
                if ($(this).val() === '') {
                    isValid = false;
                    $(this).addClass('error'); // добавляем класс для визуального отображения ошибки
                } else {
                    $(this).removeClass('error');
                }
            });

            if (isValid) {
                axios.post('/Home/Create_Sys', formData, {
                    headers: {
                        'Content-Type': 'multipart/form-data'
                    }
                })
                    .then(function (response) {

                        const alertBox = document.getElementById('alertBox');
                        alertBox.classList.remove('alert-danger');
                        alertBox.classList.add('alert-success');
                        showAlert(response.data.message);

                        refreshTable();

                    })
                    .catch(function (error) {

                        const alertBox = document.getElementById('alertBox');
                        alertBox.classList.remove('alert-success');
                        alertBox.classList.add('alert-danger');
                        showAlert(error);
                    });
            }

            else {

                const alertBox = document.getElementById('alertBox');
                alertBox.classList.remove('alert-success');
                alertBox.classList.add('alert-danger');
                showAlert("Заполнены не все поля!");
            }

       
    });
    
    </script>
}
